<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate</title>
</head>
<style>
  /* =============================
         Donate Styles 
  ==============================*/  
.donation-popup {
  position: fixed;
  bottom: 50px;
  left: 20px;
  background-color: #fff4e6;
  color: #333;
  border: 1px solid #f7c59f;
  border-radius: 10px;
  padding: 15px 20px;  
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  font-size: 16px;
  z-index: 9999;
  display: none;
  animation: fadeIn 0.5s ease-in-out;
}


@media (max-width: 768px) {
  .donation-popup {
    padding: 10px 15px;
    font-size: 14px;
  }
}

@media (max-width: 576px) {
  .donation-popup {
    padding: 10px 15px;
    font-size: 13px;
  }
 
}
  .donation-popup p {
    margin: 0;
  }

  .donation-popup .close-btn {
    position: absolute;
    top: -5px;
    right: 7px;
    cursor: pointer;
    font-size: 20px;
    color: red;
    /* color: #999; */
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
    .donated_nmae {
      display: flex;
      justify-content: space-between;
      /* flex-direction: column; */
      gap: 40px;

    }

    .donated_nmaebox {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-top: 10px;
    background-color: rgb(42, 41, 41);
    padding: 15px 20px;
    border-radius: 6px;
    font-size: 16px;
    color: #fff;
    width: 100%; 
    /* border: 2px solid red; */
    /* max-width: 450px; */
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  }

  .donated_nmaebox img{
    border-radius: 50%;
  }


</style>
<body><!-- Donation Popup -->
<div class="donation-popup" id="donationPopup">
  <span class="close-btn" onclick="hidePopup()">&times;</span>
  <p id="donationText"></p>
</div>

<script>
  // Django context data ko JS array me convert
  const donations = [
    {% for d in donations %}
      {
        name: "{{ d.donor_name }}",
        amount: "{{ d.amount }}",
        {% if d.message %} message: "{{ d.message }}", {% endif %}
        {% if d.photo %} photo: "{{ d.photo.url }}", {% endif %}
      },
    {% endfor %}
  ];

  let currentIndex = 0;

  function showPopup() {
    const popup = document.getElementById('donationPopup');
    const text = document.getElementById('donationText');

    const donation = donations[currentIndex];
    text.innerHTML = `<strong>${donation.name}</strong> donated <strong>${donation.amount} Recently!</strong>`;

    popup.style.display = 'block';

    // Hide after 5 seconds
    setTimeout(() => {
      popup.style.display = 'none';
    }, 5000);

    // Move to next donor
    currentIndex = (currentIndex + 1) % donations.length;
  }

  function hidePopup() {
    document.getElementById('donationPopup').style.display = 'none';
  }

  window.addEventListener('DOMContentLoaded', () => {
    setTimeout(() => {
      showPopup(); // First popup
      setInterval(showPopup, 8000); // Repeating popup
    }, 2000);
  });
</script>


</body>
</html>